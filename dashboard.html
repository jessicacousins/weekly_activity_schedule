<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Main Dashboard - Weekly Schedules & Attendance</title>
    <link href="styles.css" rel="stylesheet" />
  </head>
  <body>
    <header>
      <div id="navbar-container"></div>
      <script>
        fetch("navbar.html")
          .then((res) => res.text())
          .then((html) => {
            document.getElementById("navbar-container").innerHTML = html;
          });
      </script>
    </header>

    <div class="logo-container">
      <img src="logo.png" alt="Company Logo" class="dashboard-logo" />
      <div>
        <h1 class="mainDashboardTitle">Main Dashboard</h1>
        <p class="dashboard-subtitle">Weekly Schedules & Attendance Overview</p>
      </div>
    </div>
    <a href="index.html" class="action-button" style="margin-top: 20px"
      >‚Üê Back to Home</a
    >

    <button
      id="downloadWeeklyReportBtn"
      class="download-button"
   
    >
      üìÑ Download Weekly Report
    </button>
    <section>
      <div
        id="stats-box"
        style="margin-bottom: 20px; margin-top: 30px; font-size: 1em"
      ></div>
      <hr />

      <h2 style="margin-top: 40px">Recently Added Employees</h2>
      <ul id="recentEmployees" class="activity-log-list"></ul>

      <hr />

      <h2 style="margin-top: 40px">Employees Working Per Day</h2>
      <canvas id="dayBreakdownChart" height="200"></canvas>

      <hr />

      <h2 style="margin-top: 40px">Most Frequent Clients</h2>
      <ul id="topClientNames" class="top-clients-list"></ul>
    </section>

    <hr />
    <section class="dashboard-visuals">
      <h2>Client Count Bar Graph</h2>
      <canvas id="clientBarGraph" height="200"></canvas>
      <hr />
      <h2 style="margin-top: 40px">Weekly Employee Attendance Heatmap</h2>
      <div id="attendanceHeatmap" class="heatmap-grid"></div>

      <hr />

      <h2 style="margin-top: 40px">Top Clients This Week</h2>
      <ul id="topClientsList" class="top-clients-list"></ul>

      <hr />

      <h2 style="margin-top: 40px">Employee Utilization Overview</h2>
      <canvas id="radarChart" height="300"></canvas>

      <hr />

      <h2 style="margin-top: 40px">Recent Activity Log</h2>
      <ul id="activityLog" class="activity-log-list"></ul>

      <hr />

      <h2 style="margin-top: 40px">üìÖ Daily Change Log</h2>
      <div id="dailyChangeLog" class="activity-log-list"></div>
    </section>

    <section class="dashboard-container" id="dashboard"></section>

    <footer class="site-footer">
      <p>
        &copy; <span id="footer-year"></span> JMC Resources. All rights
        reserved.
      </p>
    </footer>

    <script>
      document.getElementById("footer-year").textContent =
        new Date().getFullYear();
    </script>

    <!-- Add Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Required for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <script src="dashboard.js"></script>
  </body>
</html>
